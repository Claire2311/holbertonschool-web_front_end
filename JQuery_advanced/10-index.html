<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 10</title>
  </head>

  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"
  ></script>
  <script type="application/javascript">
    function addPostRow(data) {
      $("body").append(
        $("<p>").html(
          "<span> Post created with id " +
            data.id +
            ", title: " +
            data.title +
            ", author: " +
            data.author +
            "</span>"
        )
      );
    }

    function listPosts() {
      const url = "http://localhost:3000/posts";
      $(document).ready(function () {
        $.get(url)
          .done(function (data) {
            for (let i = 0; i < data.length; i++) {
              console.log(data.length);
              addPostRow(data[i]);
            }
          })
          .fail(function () {
            alert("Server Error");
          });
      });
    }

    $(document).ready(function () {
      listPosts();
    });
  </script>
  <body></body>
</html>
